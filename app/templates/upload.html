<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Upload de PDF - PrecNet Teste</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      body {
        padding-top: 40px;
        background: #f8f9fa;
      }
      .card {
        max-width: 720px;
        margin: auto;
      }
      .file-name {
        font-size: 0.9rem;
        color: #555;
      }
    </style>
  </head>
  <body>
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="card-title mb-4">Enviar PDF para cálculo</h5>

        <form
          id="uploadForm"
          method="post"
          enctype="multipart/form-data"
          novalidate
        >
          <!-- PDF File Input -->
          <div class="mb-3">
            <label for="pdfFile" class="form-label">Arquivo (PDF)</label>
            <input
              class="form-control"
              type="file"
              id="pdfFile"
              name="file"
              accept="application/pdf"
              required
            />
            <div class="form-text">Apenas arquivos PDF. Máx: 10 MB.</div>
            <div id="fileHelp" class="file-name mt-1"></div>
          </div>

          <!-- Email Input -->
          <div class="mb-3">
            <label for="email" class="form-label"
              >E-mail para envio da resposta</label
            >
            <input
              type="email"
              class="form-control"
              id="email"
              name="email"
              placeholder="usuario@exemplo.com"
              required
            />
          </div>

          <!-- Buttons -->
          <div class="d-flex gap-2 mb-3">
            <button type="submit" class="btn btn-primary">Enviar</button>
            <button type="reset" class="btn btn-outline-secondary">
              Limpar
            </button>
          </div>

          <!-- Alert Area -->
          <div id="alertArea"></div>
        </form>
      </div>
    </div>

    <!-- JS -->
    <script>
      const pdfInput = document.getElementById("pdfFile");
      const fileHelp = document.getElementById("fileHelp");
      const alertArea = document.getElementById("alertArea");
      const MAX_SIZE = 10 * 1024 * 1024; // 10 MB

      function showAlert(msg, type = "info") {
        alertArea.innerHTML = `
        <div class="alert alert-${type} alert-sm" role="alert">
          ${msg}
        </div>
      `;
      }

      pdfInput.addEventListener("change", () => {
        alertArea.innerHTML = "";
        const file = pdfInput.files[0];
        if (!file) {
          fileHelp.textContent = "";
          return;
        }

        fileHelp.textContent = `${file.name} — ${(
          file.size /
          1024 /
          1024
        ).toFixed(2)} MB`;

        if (file.type !== "application/pdf") {
          showAlert("O arquivo deve ser PDF.", "danger");
          pdfInput.value = "";
          fileHelp.textContent = "";
          return;
        }

        if (file.size > MAX_SIZE) {
          showAlert("Arquivo muito grande. Máximo permitido: 10 MB.", "danger");
          pdfInput.value = "";
          fileHelp.textContent = "";
        }
      });

      document.getElementById("uploadForm").addEventListener("submit", (ev) => {
        if (!pdfInput.files[0]) {
          ev.preventDefault();
          showAlert("Selecione um arquivo PDF antes de enviar.", "warning");
        }
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
  